# –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ3: –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ API —Å WebSocket –∏ TaskManager

**–í–∞—Ä–∏–∞–Ω—Ç 5:** –ë—Ä—É—Ç—Ñ–æ—Ä—Å —Å WebSocket —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

–î–∞–Ω–Ω–∞—è –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Ä–∞—Å—à–∏—Ä—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –ø—Ä–æ–µ–∫—Ç–∞ –∏–∑ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç—ã ‚Ññ1, –¥–æ–±–∞–≤–ª—è—è:

- **WebSocket –ø–æ–¥–¥–µ—Ä–∂–∫—É** –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- **TaskManager** –∫–∞–∫ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—É Celery –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á
- **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ REST API** –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —Ä–∞–±–æ—Ç

## üöÄ –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫

1. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:**
```bash
pip install -r requirements.txt
```

2. **–ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞:**
```bash
python main.py
```

3. **–°–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω:**
- REST API: `http://localhost:8000`
- WebSocket: `ws://localhost:8000/ws/{task_id}`
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API: `http://localhost:8000/docs`

## üèóÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
3lab/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ api/           # REST API endpoints
‚îÇ   ‚îú‚îÄ‚îÄ core/          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ db/            # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö SQLite
‚îÇ   ‚îú‚îÄ‚îÄ models/        # –ú–æ–¥–µ–ª–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ cruds/         # CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ schemas/       # Pydantic —Å—Ö–µ–º—ã
‚îÇ   ‚îú‚îÄ‚îÄ services/      # TaskManager –∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îî‚îÄ‚îÄ websocket/     # WebSocket –º–µ–Ω–µ–¥–∂–µ—Ä
‚îú‚îÄ‚îÄ main.py            # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ FastAPI
‚îú‚îÄ‚îÄ requirements.txt   # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ client.py          # –ö–æ–Ω—Å–æ–ª—å–Ω—ã–π –∫–ª–∏–µ–Ω—Ç
‚îú‚îÄ‚îÄ bruteforce.db      # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö SQLite
‚îî‚îÄ‚îÄ archive/           # –¢–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã
```

## üîå WebSocket API

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
```javascript
ws://localhost:8000/ws/{task_id}
```

### –¢–∏–ø—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

**1. –ù–∞—á–∞–ª–æ –∑–∞–¥–∞—á–∏:**
```json
{
  "status": "STARTED",
  "task_id": "unique-task-id",
  "hash_type": "md5",
  "charset_length": 62,
  "max_length": 8
}
```

**2. –ü—Ä–æ–≥—Ä–µ—Å—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**
```json
{
  "status": "PROGRESS",
  "task_id": "unique-task-id",
  "progress": 30,
  "current_combination": "abc",
  "combinations_per_second": 15000
}
```

**3. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏:**
```json
{
  "status": "COMPLETED",
  "task_id": "unique-task-id",
  "result": "–Ω–∞–π–¥–µ–Ω–Ω—ã–π_–ø–∞—Ä–æ–ª—å",
  "elapsed_time": "00:05:23"
}
```

## üåê REST API Endpoints

### –ë—Ä—É—Ç—Ñ–æ—Ä—Å

- `POST /api/bruteforce/start` - –ó–∞–ø—É—Å–∫ –Ω–æ–≤–æ–π –∑–∞–¥–∞—á–∏
- `GET /api/bruteforce/tasks` - –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∑–∞–¥–∞—á
- `GET /api/bruteforce/task/{task_id}` - –°—Ç–∞—Ç—É—Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∑–∞–¥–∞—á–∏
- `DELETE /api/bruteforce/task/{task_id}` - –û—Ç–º–µ–Ω–∞ –∑–∞–¥–∞—á–∏
- `GET /api/bruteforce/active-tasks` - –ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏
- `GET /api/bruteforce/demo-hash/{password}` - –°–æ–∑–¥–∞–Ω–∏–µ –¥–µ–º–æ-—Ö–µ—à–∞

### –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –¥–µ–º–æ-—Ö–µ—à–∞
curl "http://localhost:8000/api/bruteforce/demo-hash/test"

# –ó–∞–ø—É—Å–∫ –±—Ä—É—Ç—Ñ–æ—Ä—Å–∞
curl -X POST "http://localhost:8000/api/bruteforce/start" \
  -H "Content-Type: application/json" \
  -d '{
    "hash_type": "md5",
    "target_hash": "098f6bcd4621d373cade4e832627b4f6",
    "max_length": 4
  }'
```

## üë®‚Äçüíª –ö–æ–Ω—Å–æ–ª—å–Ω—ã–π –∫–ª–∏–µ–Ω—Ç

–ó–∞–ø—É—Å–∫ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞:
```bash
python client.py
```

### –ö–æ–º–∞–Ω–¥—ã –∫–ª–∏–µ–Ω—Ç–∞:
- `demo` - –°–æ–∑–¥–∞—Ç—å –¥–µ–º–æ-—Ö–µ—à
- `bruteforce` - –ó–∞–ø—É—Å—Ç–∏—Ç—å –±—Ä—É—Ç—Ñ–æ—Ä—Å
- `status` - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∑–∞–¥–∞—á
- `monitor` - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- `websocket` - –¢–µ—Å—Ç WebSocket –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- `help` - –°–ø—Ä–∞–≤–∫–∞
- `exit` - –í—ã—Ö–æ–¥

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–í—Å–µ —Ç–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –ø–∞–ø–∫–µ `archive/`:

- `final_demo.py` - –ü–æ–ª–Ω–∞—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞
- `quick_test.py` - –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
- `websocket_working_test.py` - –¢–µ—Å—Ç WebSocket —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏
- `full_test.py` - –ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API

–ó–∞–ø—É—Å–∫ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏:
```bash
python archive/final_demo.py
```

## ‚ö° –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### TaskManager
- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ** –∑–∞–¥–∞—á –±–µ–∑ Celery
- **WebSocket —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** –æ –ø—Ä–æ–≥—Ä–µ—Å—Å–µ
- **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è** –≤ SQLite
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã–º–∏ –∑–∞–¥–∞—á–∞–º–∏**

### WebSocket
- **–†–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è** —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ**
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π**
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–∫–ª—é—á–µ–Ω–∏–π**

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **SQLite** –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
- **–•—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏** –≤—Å–µ—Ö –∑–∞–¥–∞—á
- **–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞** –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

## üîê –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã

- **MD5** - –ë—ã—Å—Ç—Ä–æ–µ —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —Ç–µ—Å—Ç–æ–≤
- **SHA1** - –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º
- **SHA256** - –ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏ —Å—Ç–æ–π–∫–∏–π
- **SHA512** - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ß–µ—Ä–µ–∑ REST API:
```bash
# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤—Å–µ—Ö –∑–∞–¥–∞—á
curl "http://localhost:8000/api/bruteforce/tasks"

# –ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏
curl "http://localhost:8000/api/bruteforce/active-tasks"
```

### –ß–µ—Ä–µ–∑ WebSocket:
–ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ `ws://localhost:8000/ws/{task_id}` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.

## üõ†Ô∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **Python 3.9+**
- **FastAPI** –¥–ª—è –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞
- **SQLite** –∫–∞–∫ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **WebSockets** –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- **SQLAlchemy 1.4** –¥–ª—è ORM

## üéØ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º

‚úÖ **WebSocket –ø–æ–¥–¥–µ—Ä–∂–∫–∞** - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏  
‚úÖ **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ Celery** - TaskManager —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏ –∑–∞–¥–∞—á–∞–º–∏  
‚úÖ **–ö–æ–Ω—Å–æ–ª—å–Ω—ã–π –∫–ª–∏–µ–Ω—Ç** - –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º —Å –∫–æ–º–∞–Ω–¥–∞–º–∏  
‚úÖ **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ REST API** - –ü–æ–ª–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –ª–∞–±.—Ä–∞–±–æ—Ç–æ–π ‚Ññ1  
‚úÖ **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞** - –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º  
‚úÖ **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** - WebSocket —Å–æ–æ–±—â–µ–Ω–∏—è –æ –ø—Ä–æ–≥—Ä–µ—Å—Å–µ  

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –≤ —Ä–∞–º–∫–∞—Ö —É—á–µ–±–Ω–æ–≥–æ –∫—É—Ä—Å–∞.

---

**–ê–≤—Ç–æ—Ä:** –°—Ç—É–¥–µ–Ω—Ç –≥—Ä—É–ø–ø—ã [–≤–∞—à–∞ –≥—Ä—É–ø–ø–∞]  
**–í–∞—Ä–∏–∞–Ω—Ç:** 5 - –ë—Ä—É—Ç—Ñ–æ—Ä—Å —Å WebSocket —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏  
**–î–∞—Ç–∞:** $(date) 